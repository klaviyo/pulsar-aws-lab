# Infrastructure Configuration - EKS Setup

experiment:
  id: "pulsar-eks-test-001"
  name: "Baseline Pulsar Performance Test on EKS"
  description: "Initial performance baseline with EKS and Helm-based deployment"
  tags:
    environment: "test"
    cost_center: "engineering"
    owner: "fkh"

aws:
  region: "us-west-2"
  availability_zones:
    - "us-west-2a"
    - "us-west-2b"
    - "us-west-2c"

network:
  vpc_cidr: "10.0.0.0/16"
  public_subnet_cidrs:
    - "10.0.1.0/24"
    - "10.0.2.0/24"
    - "10.0.3.0/24"
  private_subnet_cidrs:
    - "10.0.11.0/24"
    - "10.0.12.0/24"
    - "10.0.13.0/24"

eks:
  # Kubernetes cluster configuration
  cluster_version: "1.31"

  # Node group configuration
  node_group:
    instance_types:
      - "t3.medium"  # 2 vCPU, 4 GB RAM - suitable for testing
    disk_size: 50  # GB
    desired_size: 3
    min_size: 1
    max_size: 5

# Pulsar deployment configuration (via Helm)
pulsar:
  # These values override helm/pulsar-eks-lab/values.yaml
  zookeeper:
    replicas: 3

  bookkeeper:
    replicas: 3

  broker:
    replicas: 3

  proxy:
    replicas: 2

# OpenMessaging Benchmark configuration
benchmark:
  image:
    repository: "pulsar-omb"
    tag: "latest"

  producer:
    replicas: 1

  consumer:
    replicas: 1
