#!/usr/bin/env bash

dotenv_if_exists .env

# Exit early if nix is not installed
if ! command -v nix &> /dev/null; then
  echo "Nix not installed. Please install Nix first: https://nixos.org/download"
  return 0
fi

echo "Setting up development environment. Missing tools will be downloaded and cached for fast subsequent reloads."

watch_file scripts/nix/flake.nix scripts/nix/flake.lock

use flake path:scripts/nix
