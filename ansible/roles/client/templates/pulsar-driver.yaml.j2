# Pulsar Driver Configuration for OpenMessaging Benchmark

name: Pulsar

driverClass: io.openmessaging.benchmark.driver.pulsar.PulsarBenchmarkDriver

# Pulsar client configuration
client:
  # Service URLs
  serviceUrl: pulsar://{{ groups['broker'] | map('extract', hostvars, ['ansible_host']) | join(',pulsar://') }}:6650
  httpUrl: http://{{ groups['broker'][0] }}:8080

  # Producer settings
  producerConfig:
    batchingEnabled: true
    batchingMaxPublishDelayMs: 10
    blockIfQueueFull: true
    maxPendingMessages: 10000

  # Consumer settings
  consumerConfig:
    subscriptionType: Exclusive
    receiverQueueSize: 1000

# Benchmark driver settings
replicationFactor: {{ broker_managed_ledger_default_write_quorum | default(3) }}
reset: false
