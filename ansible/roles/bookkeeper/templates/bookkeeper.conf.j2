# BookKeeper Configuration

# Metadata service URI
zkServers={{ groups['zookeeper'] | map('extract', hostvars, ['ansible_host']) | join(':2181,') }}:2181
zkLedgersRootPath=/ledgers

# Bookie settings
bookiePort=3181
advertisedAddress={{ ansible_host }}

# Journal settings
journalDirectory={{ bookkeeper_journal_dir }}
journalMaxSizeMB={{ bookkeeper_journal_max_size_mb }}
journalSyncData={{ bookkeeper_journal_sync_data | lower }}

# Ledger storage settings
ledgerStorageClass={{ bookkeeper_ledger_storage_class }}
ledgerDirectories={{ bookkeeper_ledger_dirs | join(',') }}

# Thread settings
numJournalCallbackThreads={{ bookkeeper_num_journal_callback_threads }}
numAddWorkerThreads={{ bookkeeper_num_add_worker_threads }}

# Storage settings
dbStorage_writeCacheMaxSizeMb=256
dbStorage_readAheadCacheMaxSizeMb=256

# Performance settings
flushInterval=60000
